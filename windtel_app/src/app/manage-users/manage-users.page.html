<ion-header>
    <ion-toolbar>
      <ion-title>
        Manage Users
      </ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content padding="true" class="has-header">
    <div>
      <img src="assets/windtel_logo.png" style="display: block; width: 35%; height: auto; margin-left: auto; margin-right: auto;">
    </div>
    <ion-card>
        <ion-card-header>
          <ion-card-title>Add, modify, or delete users</ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <form (ngSubmit)="tryModifyUsers()" #modifyUsers="ngForm">
              <ul>
                <li *ngFor="let user of users">
                  <ion-item>
                    <ion-grid>
                      <ion-row>
                        <ion-col>
                          <ion-label>{{user.email}}</ion-label>
                        </ion-col>
                        <ion-col size="5">
                          <ion-select (ionChange)="changePermissions($event, user)" name="permissions" [disabled]="user.email==currentUser.email" placeholder="{{user.permissions}}" [interfaceOptions]="customPopoverOptions" interface="popover">
                           <ion-select-option [value]="Administrator">Administrator</ion-select-option>
                          <ion-select-option [value]="Researcher">Researcher</ion-select-option>
                          </ion-select>
                        </ion-col>
                        <ion-col>
                          <ion-button [disabled]="user.email==currentUser.email" title="delete user" (click)="delete(user)">Delete</ion-button>
                        </ion-col>
                        </ion-row>
                      </ion-grid>
                  </ion-item>
                </li>
              </ul>  
              <ion-button type="submit" [disabled]="!modifyUsers.form.valid">Save changes</ion-button>
              <ion-button (click)="navigate('/tabs')">Back</ion-button>
            </form>
        </ion-card-content>
      </ion-card>
  </ion-content>
  